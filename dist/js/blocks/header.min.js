"use strict";
(()=>{function u(s,e){let n=0,t;return function(...E){let h=Date.now();n&&h-n<=e&&clearTimeout(t),n=h,t=setTimeout(()=>s(...E),e)}}var m=".js-header",L=".js-burger",g=".js-menu",o=".js-menu__item",a=".js-menu__list";var d="no-scroll",r="menu-active",i="active",S=()=>{let s=document.querySelector(m);s&&new c(s).init()},c=class{constructor(e){this.header=e,this.currentWidth=window.innerWidth,this.burgerEl=document.querySelector(L),this.menuEl=document.querySelector(g),this.menuItems=this.menuEl?.querySelectorAll(o),this.firstLevelMenuItems=this.menuEl?.querySelectorAll(`:scope > ${a} > ${o}`)}init(){this.initBurger(),this.initMenu(),this.setHeaderHeight(),window.addEventListener("resize",u(()=>{this.handleResize()},100))}handleResize(){this.currentWidth!==window.innerWidth&&(this.currentWidth=window.innerWidth,this.closeMenu(),this.setHeaderHeight())}initBurger(){this.burgerEl?.addEventListener("click",()=>this.toggleMenu())}initMenu(){this.menuItems?.forEach(e=>{e.querySelector(":scope > a")?.addEventListener("click",t=>{e.classList.contains(i)&&t.preventDefault()}),e.addEventListener("click",t=>{t.stopPropagation(),this.toggleMenuItem(e)})})}toggleMenuItem=e=>{e.classList.contains(i)||this.closeItemsInParentList(e),e.classList.toggle(i)};closeItemsInParentList=e=>{e.closest(a).querySelectorAll(`:scope > ${o}`).forEach(l=>l.classList.remove(i))};toggleMenu(){this.header.classList.contains(r)?this.closeMenu():this.openMenu()}closeMenu(){this.header?.classList.remove(r),document.body.classList.remove(d),this.menuItems?.forEach(e=>e.classList.remove(i))}openMenu(){this.header?.classList.add(r),document.body.classList.add(d)}setHeaderHeight(){let e=this.header.getBoundingClientRect().height;this.header.style.setProperty("--header-height",`${e}px`)}};S();})();
