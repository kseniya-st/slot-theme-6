@use "../settings" as *;
.header {
    --header-height: 72px;
    $burger-max: $max-lg;
    $burger-min: $min-lg;

    border-bottom: 1px solid var(--line-color, #e4ebed);
    background: var(--card-bg, #fff);

    @include relative;
    z-index: $z-index-header;
    @include flex(row, center, flex-start, 24px);
    padding-block: 12px;
    padding-inline: calc((100vw - var(--width-container)) / 2);

    @include mediaMax(1420px) {
        padding-inline: var(--offsets, 20px);
    }

    @include media-max-sm {
        padding-block: 16px;
    }

    &__logo {
        display: flex;

        &:is(a) {
            @include hoverOpacity;
        }

        img,
        svg {
            @include maxSize(200px, 50px);
            object-fit: contain;
        }

        @include mediaMax($burger-max) {
            margin-right: auto;
        }

        @include media-max-sm {
            img,
            svg {
                max-height: 40px;
            }
        }
    }

    &__nav {
        z-index: $z-index-menu;
        margin-inline: auto;

        @include mediaMax($burger-max) {
            overflow-y: auto;
            background: var(--card-bg, #fff);
            @include absolute(calc(100% + 1px), 0);
            @include size(100%, calc(100svh - var(--header-height)));
            @include thin-v-scrollbar;
        }
    }

    &__burger {
        @include relative();
        @include flex(row, center, center);
        @include size(24px, 24px);
        padding: 5px 2px;
        cursor: pointer;

        @include hoverOpacity;

        @include mediaMin($burger-min) {
            display: none;
        }

        &::before,
        &::after {
            width: 24px;
            height: 24px;
            display: block;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        &::before {
            content: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M3 12h18M3 6h18M3 18h18" stroke="%232B2B2B" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/></svg>');
        }

        &::after {
            content: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M18 6 6 18M6 6l12 12" stroke="%232B2B2B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>');
            opacity: 0;
        }
    }

    .header-menu {
        flex-wrap: wrap;
        @include flex(row, center, flex-start);
        gap: 12px 24px;

        .item {
            @include relative;
            @include flex;
            @include transition(background);

            a,
            span {
                @include flex(row, center);

                color: var(--text-main, #2b2b2b);
                @include font-m-medium;
                @include transition(#{color});
            }

            a {
                @include hoverActiveFocus {
                    color: var(--accent-base, #3b8ffe);
                }
            }

            svg {
                @include transition(transform);
            }
        }

        @include mediaMax($burger-max) {
            @include flex(column, stretch, flex-start, 0);
            margin-top: 16px;
            padding: 12px 24px;

            .item {
                a,
                span {
                    padding-block: 12px;
                    width: 100%;
                }

                border-bottom: 1px solid var(--line-color, #e4ebed);

                &:last-child {
                    border-bottom: none;
                }
            }
        }
    }

    &:not(.menu-active) {
        .header__nav {
            @include mediaMax($burger-max) {
                display: none;
            }
        }
    }

    &.menu-active {
        .header__burger {
            &:before {
                opacity: 0;
            }
            &::after {
                opacity: 1;
            }
        }
    }
}
